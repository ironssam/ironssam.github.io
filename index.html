<!-- https://github.com/mourner/suncalc helped me do this. -->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="style.css"/>
		<!--[if lt IE 9]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<title>Solar clock</title>
	</head>
	<body>
		<div class="outer">
  			<div class="middle">
    			<div class="inner">
					<div class="container" id="clockContainer">
					<canvas id="clock"></canvas>
					</div>
				</div>
			</div>
		</div>
		<noscript>
			<p>This clock requires JavaScript to run. Your browser may not support JavaScript or you've disabled it. You could try another browser. Or, <a href="https://www.enable-javascript.com/">learn how to enable JavaScript</a>.</p>
		</noscript>
		<script src="js/suncalc.js"></script>
		<script src="js/highschoolmath.js"></script>
		<script src="js/drawmoonstroke.js"></script>
		<script src="js/drawMarker.js"></script>
		<script src="js/drawline.js"></script>
		<script src="js/drawsolarclockfields.js"></script>
		<script src="js/drawmoonphase.js"></script>
		<script src="js/drawNumbers.js"></script>
		<script src="js/drawTime.js"></script>
		<script src="js/centerCanvas.js"></script>
		<script src="js/drawKickAssClock.js"></script>
		<script>
			var options = {
			  enableHighAccuracy: true,
			  timeout: 5000,
			  maximumAge: 0
			};

			var canvas = document.getElementById("clock");
			var ctx = canvas.getContext("2d");
			ctx.clearRect(0, 0, canvas.width, canvas.height);
			ctx.canvas.width  = window.innerWidth*.85;
			ctx.canvas.height = window.innerHeight*.85;
			document.getElementById('clockContainer').setAttribute("style","width:"+ctx.canvas.width+"px;"+"margin:0 auto;");

			function success(pos) {
				// Get lat long based on browser's geolocation
				var crd = pos.coords;

				//Set up the canvas
				var canvas = document.getElementById("clock");
				var ctx = canvas.getContext("2d");
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				drawKickAssClock(crd, canvas);
			}

			function error(err) {
			  console.warn(`ERROR(${err.code}): ${err.message}`);
			};

			navigator.geolocation.getCurrentPosition(success,error,options);
			setInterval(function(){navigator.geolocation.getCurrentPosition(success,error,options);}, 5000);
		</script>
	</body>
</html>